<!DOCTYPE html><html lang="en"><head><title>JS 2016</title><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="bower_components/reveal-js/css/reveal.min.css"><link rel="stylesheet" href="bower_components/reveal-js/css/theme/moon.css"><link rel="stylesheet" href="bower_components/github-fork-ribbon-css/gh-fork-ribbon.css"><link rel="stylesheet" href="bower_components/highlightjs/styles/default.css"><link rel="stylesheet" href="src/styles/common.css"><style>.reveal section img.logo {
    background: none;
    border: none;
    box-shadow: none;
    max-height: 35vh;
    padding: 20px;
}

.split {
    display: flex;
}
.split .left, .split .right {
    flex-grow: 1;
}

.reveal section .filename {
    margin-bottom: 5px;
    font-style: italic
}

.reveal section sup {
    font-size: 0.7em;
}

.reveal section pre {
    margin-left: 1%;
    margin-right: 1%;
    width: 98%;
}

.reveal pre code {
     max-height: none;
}

</style></head><body><a href="https://github.com/purplecode/lightning-talk-js-2016" title="Fork me on Github" class="github-fork-ribbon right-top"></a><div class="reveal"><div class="slides"><section><h1>JavaScript in 2016</h1><h3>Current status of JS development</h3></section><section><section><h2>Javascript</h2><img src="src/images/jsgolf.jpg"><p>This is Javascript. If you put big wheels and a racing stripe on a golf cart, it's still a fucking golf cart.</p><br><small><a href="http://crashworks.org/if_programming_languages_were_vehicles/" target="_blank">@source: if programming languages were vehicles</a></small></section><section><h2>WAT</h2><pre><code class="hljs javascript">2 == [2];
// true

2 == [[2]];
// true

[] + [];
// ""

[] + {};
// "[object Object]"

{} + [];
// 0
</code></pre></section><section><h2>WAT</h2><pre><code class="hljs javascript">"string" instanceof String;
// false

String("abc") instanceof String;
// false

new String("abc") instanceof String;
// true

111111111111111111111 === 111111111111111110000;
 // true</code></pre><small>Recommended: &nbsp;<a href="https://www.destroyallsoftware.com/talks/wat" target="_blank">A lightning talk by Gary Bernhardt [CodeMash, 2012]</a></small></section></section><section><section><h1>Popularity</h1></section><section><h2>Popularity</h2><h4>languages usage</h4><img src="src/images/popularity-github.jpg"><small>@source: github</small></section><section><h2>Popularity</h2><h4>libraries count</h4><img src="src/images/modules.png"><small>@source: &nbsp;<a href="http://www.modulecounts.com/">modulecounts.com</a></small></section><section><h2>Popularity</h2><h4>google trends - tutorials search</h4><img src="src/images/popularity-pypl.png"><small>@source: &nbsp;<a href="http://pypl.github.io/PYPL.html">pypl.github.io</a></small></section></section><section><section><h1>Ubiquity</h1></section><section><h2>Ubiquity</h2><h4>Browser & server</h4><ul><li>Node.js</li><li>Angular</li><li>React</li><li>Ember</li><li>Backbone</li><li>Meteor</li><li>Polymer</li><li>Aurelia</li><li>...</li></ul><div><br><a href="http://www.isaacchansky.me/days-since-last-new-js-framework/">days-since-last-new-js-framework</a></div></section><section><h2>Ubiquity</h2><h4>Cross platform desktop apps</h4><ul><li><a href="http://appjs.com/">App.js</a></li><li><a href="http://electron.atom.io/">Electron (Atom Shell)</a></li><li><a href="http://nwjs.io/">NW.js (node-webkit)</a></li></ul></section><section><h2>Ubiquity</h2><h4>Mobile native apps</h4><ul><li><a href="https://cordova.apache.org/">Cordova</a></li><li><a href="http://phonegap.com/">Phonegap</a></li><li><a href="https://facebook.github.io/react-native/">React-Native</a></li><li><a href="http://ionicframework.com/">Ionic</a></li><li><a href="https://www.nativescript.org/">NativeScript</a></li><li><a href="https://tabrisjs.com/">Tabris</a></li></ul></section><section><h2>Ubiquity</h2><h4>Microcontrollers</h4><ul><li><a href="http://johnny-five.io/">Johnny Five</a></li><li><a href="http://www.espruino.com/">Espruino</a></li><li><a href="https://tessel.io/">Tessel</a></li><li><a href="http://iop.io/">Iop.io</a></li></ul></section><section><h2>Ubiquity</h2><h4>Drones & IoT</h4><ul><li><a href="https://github.com/felixge/node-ar-drone">node-ar-drone</a></li><li><a href="https://samsung.github.io/iotjs/">iot.js</a></li><li><a href="https://cylonjs.com/">cyclon.js</a></li><li><a href="https://www.cesanta.com/products/smart-js">Smart.js</a></li></ul></section><section><h2>Ubiquity</h2><h4>Shell</h4><ul><li><a href="https://github.com/kimmobrunfeldt/concurrently">concurently</a></li><li><a href="https://github.com/dthree/cash">cach</a></li><li><a href="https://github.com/shipitjs/shipit">shipit</a></li><li><a href="https://www.npmjs.com/package/shelljs">shelljs</a></li></ul></section><section><h2>Ubiquity</h2><h4>Virtualisation</h4><img src="src/images/wat-duck.jpg"><div><br><a href="https://github.com/copy/v86">V86</a></div></section></section><section><section id="ecmascript"><style>#ecmascript table {
    margin: auto;
    width: 60%;
}

#ecmascript table tr td {
    text-align: center;
}</style><h2>ECMAScript</h2><table><thead><tr><td>Version</td><td>Date published</td></tr></thead><tbody><tr><td>1.0</td><td>1997</td></tr><tr><td>2.0</td><td>1998</td></tr><tr><td>3.0</td><td>1999</td></tr><tr><td>4.0</td><td>abandoned</td></tr><tr><td>5.0</td><td>2009</td></tr><tr><td>5.1</td><td>2011</td></tr><tr><td>6.0</td><td>2015</td></tr><tr><td>7.0</td><td>in progress</td></tr></tbody></table></section><section><h2>ES6 - Classes</h2><pre><code class="hjls javascript">class Polygon {
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }
}

let p = new P(100, 200);
</code></pre></section><section><h2>ES6 - let, const, var</h2><pre><code class="hjls javascript">function() {
    if(true) {
        var v = 1;
        let l = 1;
        const c = 1;
    }
    console.log(v, l, c);
}
</code></pre></section><section><h2>ES6 - spread & destructuring</h2><pre><code class="hjls javascript">let array = [1, 2, 3, 4, 5];

let [one, two, ...rest] = array; // one = 1, two = 2, rest = [3, 4, 5]

let array2 = [...array, 6, 7, 8] // [1, 2, 3, 4, 5, 6, 7, 8]
</code></pre><pre><code class="hjls javascript">let {a, b} = {a:1, b:2} // a = 1, b = 2

let {a, b, ...rest} = {a:1, b:2, c:3, d:4}  // ES7

let [a, b] = [b, a]; // swap
</code></pre></section><section><h2>ES6 - spread & destructuring</h2><pre><code class="hjls javascript">let obj = {a:1, b:2};

let d = 4;

let obj2 = {
    ...obj,
    c:3,
    d
}
// obj2 = {"a":1, "b":2, "c":3, "d":4}
</code></pre></section><section><h2>ES6 - destructuring</h2><pre><code class="hjls javascript">function f({a, b}) {
    return a + b;
}

f({a: 1, b: 2})</code></pre><pre><code class="hjls javascript">function plot({size = 10, cords = { x: 0, y: 0} } = {}) {
    ...
}

plot({ cords: { x: 18, y: 30 } });
</code></pre></section><section><h2>ES6 - modules</h2><pre><code class="hjls javascript">export const PI = Math.PI;
export function sin(x) {}
export function cos(x) {}
export function random(x) {}

export default {
    PI,
    sin,
    cos,
    random
}
</code></pre><pre><code class="hjls javascript">import { PI } from 'my/module';
import { sin, cos } from 'my/module';
import { random as mathRandom } from 'my/module';

import Math from 'my/module';
</code></pre></section><section><h2>ES6 - string templates</h2><pre><code class="hjls javascript">let x = 2, y = 3;

let text = `value of x = ${x + y}`
</code></pre><pre><code class="hjls javascript">`
    multi
    line
`</code></pre></section><section><h2>ES6 - tagged template literals</h2><pre><code class="hjls javascript">function tag(strings, ...values) {
  return function(obj) {
        return strings[0] + obj[values[0]] + strings[1];
  };
}

let hello = tag`Hello ${'name'}!`;

hello({name: 'Alice'});     // "Hello Alice!"
hello({name: 'Bob'});       // "Hello Bob!"
</code></pre></section><section><h2>ES6 - generators</h2><pre><code class="hjls javascript">function* oneTwo(){
    yield 1;
    yield 2;
}

let gen = oneTwo();

console.log(gen.next()); // {value: 1, done: false}
console.log(gen.next()); // {value: 1, done: false}
console.log(gen.next()); // {value: undefined, done: true}
</code></pre></section><section><h2>ES6 - rest arguments</h2><pre><code class="hjls javascript">function argsLength(...theArgs) {
    console.log(theArgs.length);
}

argsLength();           // 0
argsLength(5);          // 1
argsLength(5, 6, 7);    // 3
</code></pre></section><section><h2>ES6 - arrow functions</h2><pre><code class="hjls javascript">function (a) {
    return a * 2;
}

a => a * 2

() => 4

(a, b) => a * b

(a, b) => {
    return a * b;
}
</code></pre><pre><code class="hjls javascript">return function() {
    return this.text
}.bind(this);

return () => this.text
</code></pre></section><section><h2>ES6 - promises</h2><pre><code class="hjls javascript">let promise = new Promise((resolve, reject) => {
    let result = Math.random();
    result < 0.5 ? resolve(result) : reject('too much');
});

promise
    .then(result => console.log(result))
    .catch(e => console.log(`error: ${e}`))
</code></pre></section><section><h2>ES6 - more...</h2><ul><li>Map, Set</li><li>WeakMap, WeakSet</li><li>Reflect</li><li>Symbol</li><li>Proxy</li></ul></section><section><h2><strong>ES7</strong>- more, more, more...</h2><p>Exponentiation operator</p><pre><code class="hjls javascript">let cubed = x => x ** 3;
</code></pre><p>async/await</p><pre><code class="hjls javascript">async function asyncFunction() {
  await functionReturningPromise();
}
asyncFunction().then(...)
</code></pre><p>decorators</p><pre><code class="hjls javascript">class Person {
  @memoized
  get name() { return 'Bob'; }
}
</code></pre><p>class properties</p><pre><code class="hjls javascript">class Person {
    name = 'Alice';
    static says = 'I love JS!';
}
</code></pre></section></section><section><section><h1>Tooling</h1></section><section><h2>NPM & Bower</h2><div class="split"><div class="left"><img src="src/images/logos/npm.png" class="logo"></div><div class="right"><img src="src/images/logos/bower.png" class="logo"></div></div><p>package managers for JavaScript</p></section><section><h2>Gulp & Grunt</h2><img src="src/images/logos/gulp.png" class="logo"><img src="src/images/logos/grunt.png" class="logo"><p>JavaScript build system and task runner</p></section><section><h2>Webpack</h2><img src="src/images/logos/webpack.png" class="logo"><p>module bundler for JavaScript</p></section><section><h2>Firebug & Chrome Dev Tools</h2><div class="split"><div class="left"><img style="height: 35vh;" src="src/images/logos/firebug.png" class="logo"></div><div class="right"><img src="src/images/logos/chrome.png" class="logo"></div></div><p>JavaScript debugging tools</p></section><section><h2>Babel</h2><img src="src/images/logos/babel.png" class="logo"><p>pluggable JavaScript compiler</p></section></section><section><section><h1>Evolution</h1></section><section><h2>Transpilers</h2><h3>source-to-source compilers</h3><hr><ul style="font-size: 0.8em;"><li>CoffeeScript - syntactic sugar inspired by Ruby, Python and Haskell</li><li>TypeScript - superset of JavaScript with optional static typing</li><li>Dart - general-purpose programming language developed by Google</li><li>JSX - superset with XML-like syntax for HTML elements representation</li></ul><hr><p style="font-size: 0.8em;">Other (366): ruby (9), python (16), java (16), scala (4), .NET (19), lisp-like (23)</p><small>@more: &nbsp;<a href="https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js">Languages compiled to JavaScript</a></small></section><section><h2>Typescript</h2><pre><code class="hjls typescript">interface Shape {
    new (color: string);
}

class Square implements Shape  {
    private size: number;
    constructor(size: number, color: string) {
        super(color);
        this.size = size;
    }
}

var square: Square = new Square(10, 'blue');
</code></pre></section><section><h2>Typescript</h2><pre><code class="hjls typescript">declare namespace d3 {
    export var version: string;
    export function select(selector: string): Selection<any>;
    export function selectAll(nodes: EventTarget[]): Selection<any>;
}

declare module 'd3' {
    export = d3;
}
</code></pre></section><section><h2>Asm.js</h2><p>Strict subset JavaScript for significant performance improvements of applications that are written in statically-typed languages.
~2x slower than native compilation of C with clang.</p><div class="split"><div class="left"><pre><code class="hjls c">size_t strlen(char *ptr) {
  char *curr = ptr;
  while (*curr != 0) {
    curr++;
  }
  return (curr − ptr);
}


</code></pre></div><div class="right"><pre><code class="hjls javascript">function strlen(ptr) {
  ptr = ptr|0;
  var curr = 0;
  curr = ptr;
  while (MEM8[curr]|0 != 0) {
    curr = (curr + 1)|0;
  }
  return (curr − ptr)|0;
}</code></pre></div></div><small>@source: &nbsp;<a href="https://en.wikipedia.org/wiki/Asm.js">Wikipedia</a></small></section></section><section><section><h1>Good to know</h1></section><section><h2>Web Workers</h2><p>JavaScript threads running in the background</p><pre><div class="filename">index.js</div><code class="hjls javascript">var worker = new Worker("workerScript.js");

worker.postMessage({id: 0, text : '...'});

worker.onmessage(event => console.log(event.data));
</code></pre><pre><div class="filename">workerScript.js</div><code class="hjls javascript">onmessage = (event) => {
    postMessage({
        id: event.data.id,
        result: eval(event.data.data)
    });
}
</code></pre></section><section><h2>Virtual DOM</h2><ul><li>DOM is not optimal for dynamic UI</li><li>mimic DOM in JavaScript and apply only diff</li><li>minimum number of operations to transform one tree into another ~ O(n<sup>3</sup>)</li><li>React.js - non-optimal heuristic ~ O(n) (unique keys, model assumptions)</li><li>implementations: React, Mithril, Matt-Esch/virtual-dom</li></ul></section><section><h2>Shadow DOM</h2><pre><code class="hljs html">&lt;template id="template"&gt;
    &lt;style&gt;
        ...
    &lt;/style&gt;
    &lt;div class="outer"&gt;
        &lt;div class="title"&gt;Hello world from&lt;/div&gt;
        &lt;div class="name"&gt;
            &lt;content&gt;&lt;/content&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;div id="example"&gt;&lt;/div&gt;
&lt;script&gt;
    var shadow = document.querySelector('#example').createShadowRoot();
    var template = document.querySelector('#template');
    var clone = document.importNode(template.content, true);
    shadow.appendChild(clone);
&lt;/script&gt;
</code></pre><template id="shadow-dom-template"><style>.outer {
    border: 1px dashed white;
    background: #9E0000;
    width: 90%;
    margin: auto;
    text-align: center;
}

.title {
    color: white;
    padding: 0.2em;
}

.name {
    background: white;
    padding: 0.2em;
}</style><div class="outer"><div class="title">Hello world from</div><div class="name"><content></content></div></div></template><div id="shadow-dom-example">Shadom DOM</div><script>var shadow = document.querySelector('#shadow-dom-example').createShadowRoot();
var template = document.querySelector('#shadow-dom-template');
var clone = document.importNode(template.content, true);
shadow.appendChild(clone);
</script></section><section><h2>IndexedDB</h2><ul><li>client-side storage for structured data, files or blobs</li><li>asynchronous, transactional, indexes</li><li>same-origin principle, available from web-workers</li><li>wrapper:&nbsp;<a href="http://dexie.org/">dexie</a></li><pre><code class="hljs javascript">var request = window.indexedDB.open("hollywood", 1);
request.onerror = event => console.log("Error", event);
request.onupgradeneeded = (event) => {
    var database = event.target.result;
    database.createObjectStore("movies", {keyPath: "id"})
        .add({ id: "0", name: "Seksmisja" });
}
request.onsuccess = event => {
    var database = event.target.result;
    var transaction = database.transaction(["movies"], "readonly")
        .objectStore("movies")
        .get("0");
    transaction.onsuccess = event => console.log(transaction.result);
    transaction.onerror = event => console.log("Error", event);
};
</code></pre></ul></section><section><h2>Sockets</h2><ul><li>full-duplex communication channels over a single TCP connection</li></ul><pre><code class="hljs javascript">var socket = new WebSocket('ws://domain.com:12010/api');
socket.onopen = () => {
  setInterval(function() {
      socket.send(data);
  }, 100);
};
socket.onmessage = (event) => {
    console.log(event.data);
}
</code></pre></section><section><h2>Server push</h2><ul><li>transaction is initiated by the server</li><pre><code class="hljs javascript">var indexFile = fs.readFileSync(path.join(__dirname, './index.js'));
var addons = path.join(__dirname, '/addons.js');

function onRequest(request, response) {
   var filename = path.join(__dirname, request.url);
     if (response.push) {
       var push = response.push('/addons.js');
       push.writeHead(200);
       fs.createReadStream(addons).pipe(push);
     }
     response.end(indexFile);
 }

http2.createServer(options, onRequest).listen(8080);
</code></pre></ul></section><section><h2>Server side rendering</h2><ul><li>page loads faster, no white page</li><li>content is visible to search engine</li><li>less browser compatibility issues</li><li>doable current frameworks like React</li></ul><div class="split"><div class="left"><pre><code class="hjls c">var React = require('react');
var ReactDOM = require('react-dom');

class MyComponent extends React.Component {
    render() {
        return &lt;div&gt;Hello World&lt;/div&gt;;
    }
}
ReactDOM.render(&lt;MyComponent /&gt;, node);</code></pre></div><div class="right"><pre><code class="hjls javascript">var React = require('react');
var ReactDOMServer = require('react-dom/server');

class MyComponent extends React.Component {
    render() {
        return &lt;div&gt;Hello World&lt;/div&gt;;
    }
}
ReactDOMServer.renderToString(&lt;MyComponent /&gt;);</code></pre></div></div></section></section><section><h2>This is all for now...</h2></section><section><h2>Thanks!</h2></section></div></div><script src="bower_components/reveal-js/lib/js/head.min.js"></script><script src="bower_components/reveal-js/js/reveal.js"></script><script>Reveal.initialize({
    progress: true,
    slideNumber: false,
    history: true,
    dependencies: [
        {
            src: 'bower_components/highlightjs/highlight.pack.min.js',
            async: true,
            callback: function () {
                hljs.initHighlightingOnLoad();
            }
        }
    ]
});</script></body></html>